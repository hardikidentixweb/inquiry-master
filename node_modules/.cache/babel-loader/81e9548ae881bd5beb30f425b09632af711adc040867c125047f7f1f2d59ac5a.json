{"ast":null,"code":"import _objectSpread from\"/var/www/html/internal/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Link,useNavigate}from'react-router-dom';import{DragDropContext,Droppable,Draggable}from'react-beautiful-dnd';import axios from'axios';import{useAuth}from'../../context/AuthContext';import'./Settings.css';import{FiArrowLeft}from'react-icons/fi';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Settings=()=>{const{user}=useAuth();const navigate=useNavigate();const[preferences,setPreferences]=useState({visibleFields:[],fieldOrder:[],standardColumns:{id:true,client_name:true,client_email:true,client_phone:true,status:true,created_at:true,actions:true}});const[fields,setFields]=useState([]);const[loading,setLoading]=useState(true);const[saved,setSaved]=useState(false);useEffect(()=>{fetchFields();loadPreferences();},[]);const fetchFields=async()=>{try{const response=await axios.get('/api/fields');setFields(response.data.fields||[]);// Initialize preferences if empty\nif(preferences.visibleFields.length===0){const allFieldIds=response.data.fields.map(f=>f.id);setPreferences(prev=>_objectSpread(_objectSpread({},prev),{},{visibleFields:allFieldIds,fieldOrder:allFieldIds}));}}catch(error){console.error('Failed to fetch fields:',error);}finally{setLoading(false);}};const loadPreferences=async()=>{try{const response=await axios.get('/api/settings/preferences');if(response.data.preferences){setPreferences(response.data.preferences);}}catch(error){console.error('Failed to load preferences:',error);}};const savePreferences=async()=>{try{await axios.post('/api/settings/preferences',preferences);setSaved(true);setTimeout(()=>setSaved(false),3000);}catch(error){alert('Failed to save preferences');}};const toggleFieldVisibility=fieldId=>{const newVisibleFields=preferences.visibleFields.includes(fieldId)?preferences.visibleFields.filter(id=>id!==fieldId):[...preferences.visibleFields,fieldId];setPreferences(_objectSpread(_objectSpread({},preferences),{},{visibleFields:newVisibleFields}));};const moveField=(fieldId,direction)=>{const currentIndex=preferences.fieldOrder.indexOf(fieldId);if(currentIndex===-1)return;const newOrder=[...preferences.fieldOrder];const newIndex=direction==='up'?currentIndex-1:currentIndex+1;if(newIndex<0||newIndex>=newOrder.length)return;[newOrder[currentIndex],newOrder[newIndex]]=[newOrder[newIndex],newOrder[currentIndex]];setPreferences(_objectSpread(_objectSpread({},preferences),{},{fieldOrder:newOrder}));};const onDragEnd=result=>{if(!result.destination)return;const items=Array.from(preferences.fieldOrder);const[reorderedItem]=items.splice(result.source.index,1);items.splice(result.destination.index,0,reorderedItem);setPreferences(_objectSpread(_objectSpread({},preferences),{},{fieldOrder:items}));};// Redirect non-admin users\nif((user===null||user===void 0?void 0:user.role)!=='admin'){return/*#__PURE__*/_jsxs(\"div\",{className:\"settings-container\",children:[/*#__PURE__*/_jsx(\"nav\",{className:\"navbar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"nav-brand\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Inquiry Master\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"settings-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"error-message\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Access Denied\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Only administrators can access settings. Please contact your admin.\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate('/dashboard'),className:\"back-link btn-primary\",style:{marginTop:'20px'},children:[/*#__PURE__*/_jsx(FiArrowLeft,{}),\" Back to Dashboard\"]})]})})]});}if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading settings...\"});}const sortedFields=fields.sort((a,b)=>{const aIndex=preferences.fieldOrder.indexOf(a.id);const bIndex=preferences.fieldOrder.indexOf(b.id);if(aIndex===-1)return 1;if(bIndex===-1)return-1;return aIndex-bIndex;});return/*#__PURE__*/_jsxs(\"div\",{className:\"settings-container\",children:[/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"nav-brand\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Inquiry Master\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"nav-user\",children:[/*#__PURE__*/_jsx(Link,{to:\"/dashboard\",className:\"nav-link\",children:\"Dashboard\"}),/*#__PURE__*/_jsx(Link,{to:\"/inquiries\",className:\"nav-link\",children:\"Inquiries\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"settings-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"settings-header\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/dashboard\",className:\"back-link\",children:[/*#__PURE__*/_jsx(FiArrowLeft,{}),\" Back to Dashboard\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"settings-header-content\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Settings (Admin Only)\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Configure column visibility and field order for all users\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"admin-notice\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Note:\"}),\" Changes here will apply to all users in the system.\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"settings-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Field Visibility & Order\"}),/*#__PURE__*/_jsx(\"p\",{className:\"section-description\",children:\"Configure which columns are visible and in what order they appear in the inquiries list.\"}),saved&&/*#__PURE__*/_jsx(\"div\",{className:\"success-message\",children:\"Preferences saved successfully!\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"columns-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Standard Columns\"}),/*#__PURE__*/_jsx(\"div\",{className:\"standard-columns-grid\",children:[{key:'id',label:'ID'},{key:'client_name',label:'Client Name'},{key:'client_email',label:'Email'},{key:'client_phone',label:'Phone'},{key:'status',label:'Status'},{key:'created_at',label:'Created Date'},{key:'actions',label:'Actions'}].map(col=>{var _preferences$standard;return/*#__PURE__*/_jsx(\"div\",{className:\"column-setting-item\",children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:((_preferences$standard=preferences.standardColumns)===null||_preferences$standard===void 0?void 0:_preferences$standard[col.key])!==false,onChange:e=>{setPreferences(_objectSpread(_objectSpread({},preferences),{},{standardColumns:_objectSpread(_objectSpread({},preferences.standardColumns),{},{[col.key]:e.target.checked})}));}}),/*#__PURE__*/_jsx(\"span\",{children:col.label})]})},col.key);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"columns-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Custom Fields (Drag to reorder or use buttons)\"}),/*#__PURE__*/_jsx(DragDropContext,{onDragEnd:onDragEnd,children:/*#__PURE__*/_jsx(Droppable,{droppableId:\"fields-settings\",children:provided=>/*#__PURE__*/_jsxs(\"div\",_objectSpread(_objectSpread({},provided.droppableProps),{},{ref:provided.innerRef,className:\"fields-list-settings\",children:[sortedFields.map((field,index)=>{const isVisible=preferences.visibleFields.includes(field.id);return/*#__PURE__*/_jsx(Draggable,{draggableId:field.id.toString(),index:index,children:(provided,snapshot)=>/*#__PURE__*/_jsxs(\"div\",_objectSpread(_objectSpread({ref:provided.innerRef},provided.draggableProps),{},{className:\"field-setting-item \".concat(snapshot.isDragging?'dragging':''),children:[/*#__PURE__*/_jsx(\"div\",_objectSpread(_objectSpread({},provided.dragHandleProps),{},{className:\"drag-handle\",children:\"\\u2630\"})),/*#__PURE__*/_jsxs(\"div\",{className:\"field-info\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"field-label\",children:field.field_label}),/*#__PURE__*/_jsx(\"span\",{className:\"field-type\",children:field.field_type})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field-actions\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>moveField(field.id,'up'),disabled:index===0,className:\"btn-icon\",title:\"Move up\",children:\"\\u2191\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>moveField(field.id,'down'),disabled:index===sortedFields.length-1,className:\"btn-icon\",title:\"Move down\",children:\"\\u2193\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>toggleFieldVisibility(field.id),className:\"toggle-btn \".concat(isVisible?'visible':''),title:isVisible?'Hide field':'Show field',children:isVisible?'üëÅÔ∏è':'üö´'})]})]}))},field.id);}),provided.placeholder]}))})}),fields.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"no-custom-fields\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"No custom fields yet. \",(user===null||user===void 0?void 0:user.role)==='admin'&&/*#__PURE__*/_jsx(Link,{to:\"/admin\",children:\"Create custom fields in Admin Dashboard\"})]})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:savePreferences,className:\"btn-primary save-btn\",children:\"Save Preferences\"})]})]})]});};export default Settings;","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","DragDropContext","Droppable","Draggable","axios","useAuth","FiArrowLeft","jsx","_jsx","jsxs","_jsxs","Settings","user","navigate","preferences","setPreferences","visibleFields","fieldOrder","standardColumns","id","client_name","client_email","client_phone","status","created_at","actions","fields","setFields","loading","setLoading","saved","setSaved","fetchFields","loadPreferences","response","get","data","length","allFieldIds","map","f","prev","_objectSpread","error","console","savePreferences","post","setTimeout","alert","toggleFieldVisibility","fieldId","newVisibleFields","includes","filter","moveField","direction","currentIndex","indexOf","newOrder","newIndex","onDragEnd","result","destination","items","Array","from","reorderedItem","splice","source","index","role","className","children","onClick","style","marginTop","sortedFields","sort","a","b","aIndex","bIndex","to","key","label","col","_preferences$standard","type","checked","onChange","e","target","droppableId","provided","droppableProps","ref","innerRef","field","isVisible","draggableId","toString","snapshot","draggableProps","concat","isDragging","dragHandleProps","field_label","field_type","disabled","title","placeholder"],"sources":["/var/www/html/internal/frontend/src/components/Settings/Settings.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\r\nimport axios from 'axios';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport './Settings.css';\r\nimport { FiArrowLeft } from 'react-icons/fi';\r\n\r\nconst Settings = () => {\r\n  const { user } = useAuth();\r\n  const navigate = useNavigate();\r\n  const [preferences, setPreferences] = useState({\r\n    visibleFields: [],\r\n    fieldOrder: [],\r\n    standardColumns: {\r\n      id: true,\r\n      client_name: true,\r\n      client_email: true,\r\n      client_phone: true,\r\n      status: true,\r\n      created_at: true,\r\n      actions: true\r\n    }\r\n  });\r\n  const [fields, setFields] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [saved, setSaved] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchFields();\r\n    loadPreferences();\r\n  }, []);\r\n\r\n  const fetchFields = async () => {\r\n    try {\r\n      const response = await axios.get('/api/fields');\r\n      setFields(response.data.fields || []);\r\n      \r\n      // Initialize preferences if empty\r\n      if (preferences.visibleFields.length === 0) {\r\n        const allFieldIds = response.data.fields.map(f => f.id);\r\n        setPreferences(prev => ({\r\n          ...prev,\r\n          visibleFields: allFieldIds,\r\n          fieldOrder: allFieldIds\r\n        }));\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to fetch fields:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const loadPreferences = async () => {\r\n    try {\r\n      const response = await axios.get('/api/settings/preferences');\r\n      if (response.data.preferences) {\r\n        setPreferences(response.data.preferences);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to load preferences:', error);\r\n    }\r\n  };\r\n\r\n  const savePreferences = async () => {\r\n    try {\r\n      await axios.post('/api/settings/preferences', preferences);\r\n      setSaved(true);\r\n      setTimeout(() => setSaved(false), 3000);\r\n    } catch (error) {\r\n      alert('Failed to save preferences');\r\n    }\r\n  };\r\n\r\n  const toggleFieldVisibility = (fieldId) => {\r\n    const newVisibleFields = preferences.visibleFields.includes(fieldId)\r\n      ? preferences.visibleFields.filter(id => id !== fieldId)\r\n      : [...preferences.visibleFields, fieldId];\r\n    \r\n    setPreferences({\r\n      ...preferences,\r\n      visibleFields: newVisibleFields\r\n    });\r\n  };\r\n\r\n  const moveField = (fieldId, direction) => {\r\n    const currentIndex = preferences.fieldOrder.indexOf(fieldId);\r\n    if (currentIndex === -1) return;\r\n\r\n    const newOrder = [...preferences.fieldOrder];\r\n    const newIndex = direction === 'up' ? currentIndex - 1 : currentIndex + 1;\r\n\r\n    if (newIndex < 0 || newIndex >= newOrder.length) return;\r\n\r\n    [newOrder[currentIndex], newOrder[newIndex]] = [newOrder[newIndex], newOrder[currentIndex]];\r\n\r\n    setPreferences({\r\n      ...preferences,\r\n      fieldOrder: newOrder\r\n    });\r\n  };\r\n\r\n  const onDragEnd = (result) => {\r\n    if (!result.destination) return;\r\n\r\n    const items = Array.from(preferences.fieldOrder);\r\n    const [reorderedItem] = items.splice(result.source.index, 1);\r\n    items.splice(result.destination.index, 0, reorderedItem);\r\n\r\n    setPreferences({\r\n      ...preferences,\r\n      fieldOrder: items\r\n    });\r\n  };\r\n\r\n  // Redirect non-admin users\r\n  if (user?.role !== 'admin') {\r\n    return (\r\n      <div className=\"settings-container\">\r\n        <nav className=\"navbar\">\r\n          <div className=\"nav-brand\">\r\n            <h1>Inquiry Master</h1>\r\n          </div>\r\n        </nav>\r\n        <div className=\"settings-content\">\r\n          <div className=\"error-message\">\r\n            <h2>Access Denied</h2>\r\n            <p>Only administrators can access settings. Please contact your admin.</p>\r\n            <button onClick={() => navigate('/dashboard')} className=\"back-link btn-primary\" style={{marginTop: '20px'}}>\r\n              <FiArrowLeft /> Back to Dashboard\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (loading) {\r\n    return <div className=\"loading\">Loading settings...</div>;\r\n  }\r\n\r\n  const sortedFields = fields.sort((a, b) => {\r\n    const aIndex = preferences.fieldOrder.indexOf(a.id);\r\n    const bIndex = preferences.fieldOrder.indexOf(b.id);\r\n    if (aIndex === -1) return 1;\r\n    if (bIndex === -1) return -1;\r\n    return aIndex - bIndex;\r\n  });\r\n\r\n  return (\r\n    <div className=\"settings-container\">\r\n      <nav className=\"navbar\">\r\n        <div className=\"nav-brand\">\r\n          <h1>Inquiry Master</h1>\r\n        </div>\r\n        <div className=\"nav-user\">\r\n          <Link to=\"/dashboard\" className=\"nav-link\">Dashboard</Link>\r\n          <Link to=\"/inquiries\" className=\"nav-link\">Inquiries</Link>\r\n        </div>\r\n      </nav>\r\n\r\n      <div className=\"settings-content\">\r\n        <div className=\"settings-header\">\r\n          <Link to=\"/dashboard\" className=\"back-link\">\r\n            <FiArrowLeft /> Back to Dashboard\r\n          </Link>\r\n          <div className=\"settings-header-content\">\r\n            <h2>Settings (Admin Only)</h2>\r\n            <p>Configure column visibility and field order for all users</p>\r\n            <div className=\"admin-notice\">\r\n              <strong>Note:</strong> Changes here will apply to all users in the system.\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"settings-section\">\r\n          <h3>Field Visibility & Order</h3>\r\n          <p className=\"section-description\">\r\n            Configure which columns are visible and in what order they appear in the inquiries list.\r\n          </p>\r\n\r\n          {saved && (\r\n            <div className=\"success-message\">\r\n              Preferences saved successfully!\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"columns-section\">\r\n            <h4>Standard Columns</h4>\r\n            <div className=\"standard-columns-grid\">\r\n              {[\r\n                { key: 'id', label: 'ID' },\r\n                { key: 'client_name', label: 'Client Name' },\r\n                { key: 'client_email', label: 'Email' },\r\n                { key: 'client_phone', label: 'Phone' },\r\n                { key: 'status', label: 'Status' },\r\n                { key: 'created_at', label: 'Created Date' },\r\n                { key: 'actions', label: 'Actions' }\r\n              ].map(col => (\r\n                <div key={col.key} className=\"column-setting-item\">\r\n                  <label>\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={preferences.standardColumns?.[col.key] !== false}\r\n                      onChange={(e) => {\r\n                        setPreferences({\r\n                          ...preferences,\r\n                          standardColumns: {\r\n                            ...preferences.standardColumns,\r\n                            [col.key]: e.target.checked\r\n                          }\r\n                        });\r\n                      }}\r\n                    />\r\n                    <span>{col.label}</span>\r\n                  </label>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"columns-section\">\r\n            <h4>Custom Fields (Drag to reorder or use buttons)</h4>\r\n            <DragDropContext onDragEnd={onDragEnd}>\r\n              <Droppable droppableId=\"fields-settings\">\r\n                {(provided) => (\r\n                  <div {...provided.droppableProps} ref={provided.innerRef} className=\"fields-list-settings\">\r\n                    {sortedFields.map((field, index) => {\r\n                      const isVisible = preferences.visibleFields.includes(field.id);\r\n                      return (\r\n                        <Draggable key={field.id} draggableId={field.id.toString()} index={index}>\r\n                          {(provided, snapshot) => (\r\n                            <div\r\n                              ref={provided.innerRef}\r\n                              {...provided.draggableProps}\r\n                              className={`field-setting-item ${snapshot.isDragging ? 'dragging' : ''}`}\r\n                            >\r\n                              <div {...provided.dragHandleProps} className=\"drag-handle\">‚ò∞</div>\r\n                              <div className=\"field-info\">\r\n                                <span className=\"field-label\">{field.field_label}</span>\r\n                                <span className=\"field-type\">{field.field_type}</span>\r\n                              </div>\r\n                              <div className=\"field-actions\">\r\n                                <button\r\n                                  onClick={() => moveField(field.id, 'up')}\r\n                                  disabled={index === 0}\r\n                                  className=\"btn-icon\"\r\n                                  title=\"Move up\"\r\n                                >\r\n                                  ‚Üë\r\n                                </button>\r\n                                <button\r\n                                  onClick={() => moveField(field.id, 'down')}\r\n                                  disabled={index === sortedFields.length - 1}\r\n                                  className=\"btn-icon\"\r\n                                  title=\"Move down\"\r\n                                >\r\n                                  ‚Üì\r\n                                </button>\r\n                                <button\r\n                                  onClick={() => toggleFieldVisibility(field.id)}\r\n                                  className={`toggle-btn ${isVisible ? 'visible' : ''}`}\r\n                                  title={isVisible ? 'Hide field' : 'Show field'}\r\n                                >\r\n                                  {isVisible ? 'üëÅÔ∏è' : 'üö´'}\r\n                                </button>\r\n                              </div>\r\n                            </div>\r\n                          )}\r\n                        </Draggable>\r\n                      );\r\n                    })}\r\n                    {provided.placeholder}\r\n                  </div>\r\n                )}\r\n              </Droppable>\r\n            </DragDropContext>\r\n            {fields.length === 0 && (\r\n              <div className=\"no-custom-fields\">\r\n                <p>No custom fields yet. {user?.role === 'admin' && (\r\n                  <Link to=\"/admin\">Create custom fields in Admin Dashboard</Link>\r\n                )}</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <button onClick={savePreferences} className=\"btn-primary save-btn\">\r\n            Save Preferences\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Settings;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}